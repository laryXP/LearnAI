# 构建 AI 原生工程团队

![Cover](./images/Cover.png)

## 编码代理如何加速软件开发生命周期

---

## 引言

AI 模型正在快速扩展其可执行任务的范围,这对工程领域产生了重大影响。前沿系统现在可以维持数小时的持续推理:截至 2025 年 8 月,METR 发现领先模型能够完成 2 小时 17 分钟的连续工作,并有约 50%的置信度产生正确答案。

这种能力正在快速提升,任务时长约每七个月翻一番。仅在几年前,模型还只能管理约 30 秒的推理——足以提供小型代码建议。如今,随着模型能够维持更长的推理链,整个软件开发生命周期都有可能获得 AI 辅助,使编码代理能够有效地参与规划、设计、开发、测试、代码审查和部署。

<p align="center"> <strong>图表：不同 LLM 能够以 50%成功率完成的软件工程任务时间跨度</strong></p>

![alt text](./images/LLMReleaseDate.png)
_数据来源: METR, 《测量 AI 完成长任务的能力》_

在本指南中,我们将分享真实案例,概述 AI 代理如何参与软件开发生命周期,并提供实用指导,帮助工程领导者从今天开始构建 AI 原生团队和流程。

---

## AI 编码:从自动补全到代理

AI 编码工具已经远远超越了其作为自动补全助手的起源。早期工具处理快速任务,如建议下一行代码或填充函数模板。随着模型获得更强的推理能力,开发者开始通过 IDE 中的聊天界面与代理互动,进行结对编程和代码探索。

今天的编码代理可以生成整个文件、搭建新项目架构并将设计转换为代码。它们可以推理多步骤问题,如调试或重构,代理执行也从个人开发者的机器转移到基于云的多代理环境。这正在改变开发者的工作方式,让他们减少在 IDE 内使用代理生成代码的时间,而将更多时间用于委托整个工作流程。

### 技术进步及其赋能

| 进步                 | 带来的能力                                                                                |
| -------------------- | ----------------------------------------------------------------------------------------- |
| **跨系统统一上下文** | 单个模型可以读取代码、配置和遥测数据,在以前需要单独工具的各层之间提供一致的推理。         |
| **结构化工具执行**   | 模型现在可以直接调用编译器、测试运行器和扫描器,产生可验证的结果而非静态建议。             |
| **持久项目记忆**     | 长上下文窗口和压缩等技术允许模型跟踪从提案到部署的整个功能,记住先前的设计选择和约束条件。 |
| **评估循环**         | 模型输出可以根据基准自动测试——单元测试、延迟目标或风格指南——因此改进基于可衡量的质量。    |

---

在 OpenAI,我们亲眼见证了这一点。开发周期已经加速,曾经需要数周的工作现在可以在几天内交付。团队更容易跨域移动,更快地融入不熟悉的项目,并在整个组织中以更大的敏捷性和自主性运作。许多例行且耗时的任务,从记录新代码和显示相关测试,到维护依赖项和清理功能标志,现在完全委托给 Codex。

然而,工程的某些方面保持不变。代码的真正所有权——尤其是对于新的或模糊的问题——仍然由工程师负责,某些挑战超出了当前模型的能力。但借助 Codex 等编码代理,工程师现在可以将更多时间花在复杂和新颖的挑战上,专注于设计、架构和系统级推理,而不是调试或机械实现。

在以下章节中,我们将详细说明软件开发生命周期(SDLC)的每个阶段如何随编码代理而变化——并概述您的团队可以采取的具体步骤,开始作为 AI 原生工程组织运营。

---

## 规划阶段

组织中的团队通常依赖工程师来确定功能是否可行、构建需要多长时间以及涉及哪些系统或团队。虽然任何人都可以起草规格说明,但形成准确的计划通常需要深入的代码库意识,并与工程进行多轮迭代,以发现需求、澄清边缘情况并确定技术上的现实性。

### 编码代理如何提供帮助

AI 编码代理在规划和范围界定期间为团队提供即时的、代码感知的洞察。例如,团队可以构建工作流,将编码代理连接到其问题跟踪系统,读取功能规格,将其与代码库交叉引用,然后标记歧义,将工作分解为子组件或估算难度。

编码代理还可以立即追踪代码路径,显示哪些服务涉及某个功能——这项工作以前需要数小时或数天手动挖掘大型代码库。

### 工程师转而做什么

团队将更多时间花在核心功能工作上,因为代理提供了以前需要会议进行产品对齐和范围界定的上下文。关键实现细节、依赖关系和边缘情况在前期就被识别出来,使决策更快,会议更少。

### 委托、审查、拥有

- **委托**: AI 代理可以对可行性和架构分析进行初步处理。它们读取规格说明,将其映射到代码库,识别依赖关系,并揭示需要澄清的歧义或边缘情况。

- **审查**: 团队审查代理的发现,验证准确性,评估完整性,并确保估算反映真实的技术约束。故事点分配、工作量评估和识别不明显的风险仍然需要人类判断。

- **拥有**: 战略决策——如优先级排序、长期方向、排序和权衡——仍由人类主导。团队可能会向代理询问选项或后续步骤,但规划和产品方向的最终责任仍属于组织。

### 入门检查清单

- ✓ 识别需要功能与源代码对齐的常见流程。常见领域包括功能范围界定和工单创建。
- ✓ 从实现基本工作流开始,例如标记和去重问题或功能请求。
- ✓ 考虑更高级的工作流,如根据初始功能描述向工单添加子任务。
- ✓ 或者在工单达到特定阶段时启动代理运行,以更多详细信息补充描述。

---

## 设计阶段

设计阶段通常因基础性设置工作而放慢。团队花费大量时间连接样板代码、集成设计系统以及完善 UI 组件或流程。原型图与实现之间的不对齐可能会造成返工和漫长的反馈循环,而有限的带宽来探索替代方案或适应不断变化的需求会延迟设计验证。

### 编码代理如何提供帮助

AI 编码工具通过搭建样板代码、构建项目结构并立即实现设计令牌或风格指南,显著加速原型制作。工程师可以用自然语言描述所需的功能或 UI 布局,并接收与团队约定匹配的原型代码或组件存根。

它们可以直接将设计转换为代码,建议可访问性改进,甚至分析代码库以查找用户流程或边缘情况。这使得在数小时而非数天内迭代多个原型成为可能,并在早期以高保真度进行原型制作,为团队提供更清晰的决策基础,并使客户测试在流程中更早进行。

### 工程师转而做什么

由于代理处理了常规设置和转换任务,团队可以将注意力转向更高杠杆的工作。工程师专注于完善核心逻辑、建立可扩展的架构模式,并确保组件满足质量和可靠性标准。设计师可以花更多时间评估用户流程和探索替代概念。协作工作从实现开销转向改善底层产品体验。

### 委托、审查、拥有

- **委托**: 代理通过搭建项目、生成样板代码、将原型图转换为组件以及应用设计令牌或风格指南来处理初始实现工作。

- **审查**: 团队审查代理的输出,以确保组件遵循设计约定,满足质量和可访问性标准,并与现有系统正确集成。

- **拥有**: 团队拥有总体设计系统、UX 模式、架构决策以及用户体验的最终方向。

### 入门检查清单

- ✓ 使用接受文本和图像输入的多模态编码代理
- ✓ 通过 MCP 将设计工具与编码代理集成
- ✓ 使用 MCP 以编程方式公开组件库,并将其与编码模型集成
- ✓ 构建映射设计 → 组件 → 组件实现的工作流
- ✓ 利用类型化语言(例如 Typescript)为代理定义有效的 props 和子组件

---

## 构建阶段

构建阶段是团队感受到最大摩擦的地方,也是编码代理产生最明显影响的地方。工程师花费大量时间将规格转换为代码结构、将服务连接在一起、在代码库中复制模式以及填充样板,即使是小功能也需要数小时的繁忙工作。

随着系统的增长,这种摩擦会加剧。大型单一代码库积累了模式、约定和历史怪癖,使贡献者放慢速度。工程师可能花费与实现功能本身一样多的时间来重新发现"正确的方法"。在规格、代码搜索、构建错误、测试失败和依赖管理之间不断切换上下文会增加认知负荷——而在长时间运行的任务期间的中断会打破流畅性并进一步延迟交付。

### 编码代理如何提供帮助

在 IDE 和 CLI 中运行的编码代理通过处理更大的多步骤实现任务来加速构建阶段。它们不仅生成下一个函数或文件,还可以端到端地生成完整功能——数据模型、API、UI 组件、测试和文档——在单个协调运行中。通过在整个代码库中持续推理,它们处理曾经需要工程师手动追踪代码路径的决策。

### 在长时间运行的任务中,代理可以:

- 根据书面规格起草整个功能实现
- 在数十个文件中搜索和修改代码,同时保持一致性
- 生成符合约定的样板:错误处理、遥测、安全包装器或风格模式
- 在出现构建错误时立即修复,而不是暂停等待人工干预
- 将测试与实现一起编写,作为单个工作流的一部分
- 生成遵循内部指南并包含 PR 消息的差异就绪变更集

在实践中,这将大部分机械性的"构建工作"从工程师转移到代理。代理成为首次实现者;工程师成为审查者、编辑者和方向来源。

### 工程师转而做什么

当代理能够可靠地执行多步骤构建任务时,工程师将注意力转向更高阶的工作:

- 在实现之前澄清产品行为、边缘情况和规格
- 审查 AI 生成代码的架构影响,而不是执行例行连接
- 完善需要深入领域推理的业务逻辑和性能关键路径
- 设计指导 AI 生成代码的模式、护栏和约定
- 与产品经理和设计师协作,迭代功能意图,而不是样板

工程师不再将功能规格"翻译"成代码,而是专注于正确性、连贯性、可维护性和长期质量——这些领域人类上下文仍然最重要。

### 委托、审查、拥有

- **委托**: 代理为规格明确的功能起草首次实现——搭建、CRUD 逻辑、连接、重构和测试。随着长时间推理的改进,这越来越多地涵盖完整的端到端构建,而不是孤立的片段。

- **审查**: 工程师评估设计选择、性能、安全性、迁移风险和领域对齐,同时纠正代理可能遗漏的细微问题。他们塑造和完善 AI 生成的代码,而不是执行机械工作。

- **拥有**: 工程师保留需要深入系统直觉的工作所有权:新抽象、跨领域架构更改、模糊的产品需求和长期可维护性权衡。随着代理承担更长的任务,工程从逐行实现转向整体把控。

### 案例

Cloudwalk 的工程师、产品经理、设计师和运营人员每天使用 Codex 将规格转换为工作代码,无论他们需要脚本、新的欺诈规则还是在几分钟内交付的完整微服务。它消除了构建阶段的繁忙工作,并赋予每位员工以惊人速度实现想法的能力。

### 入门检查清单

- ✓ 从规格明确的任务开始
- ✓ 让代理通过 MCP 使用规划工具,或编写提交到代码库的 PLAN.md 文件
- ✓ 检查代理尝试执行的命令是否成功
- ✓ 迭代 AGENTS.md 文件,解锁代理循环,如运行测试和检查器以接收反馈

---

## 测试阶段

开发者经常难以确保足够的测试覆盖率,因为编写和维护全面的测试需要时间、需要切换上下文,以及对边缘情况的深入理解。团队经常面临在快速推进和编写全面测试之间的权衡。当截止日期临近时,测试覆盖率往往是第一个受影响的。

即使编写了测试,随着代码的演进保持测试更新也会带来持续的摩擦。测试可能变得脆弱,因不明原因失败,并且随着底层产品的变化可能需要它们自己的重大重构。高质量的测试让团队以更高的信心更快地发布。

### 编码代理如何提供帮助

AI 编码工具可以以几种强大的方式帮助开发者编写更好的测试。首先,它们可以根据阅读需求文档和功能代码的逻辑来建议测试用例。模型在建议边缘情况和失败模式方面可能出奇地出色,这些是开发者容易忽视的,特别是当他们深入专注于功能并需要第二意见时。

此外,模型可以帮助随着代码的演进保持测试更新,减少重构的摩擦并避免变得不稳定的过时测试。通过处理测试编写的基本实现细节并揭示边缘情况,编码代理加速了测试开发过程。

### 工程师转而做什么

使用 AI 工具编写测试并不消除开发者思考测试的需要。事实上,随着代理消除了生成代码的障碍,测试作为应用功能真相来源的作用越来越重要。由于代理可以运行测试套件并根据输出进行迭代,定义高质量的测试通常是允许代理构建功能的第一步。

相反,开发者更多地关注测试覆盖率中的高级模式,建立和挑战模型对测试用例的识别。使测试编写更快使开发者能够更快地发布功能,也能够承担更雄心勃勃的功能。

### 委托、审查、拥有

- **委托**: 工程师将根据功能规格生成测试用例的初步工作委托给代理。他们还将使用模型对生成测试进行初步处理。在与功能实现分开的会话中让模型生成测试可能会有所帮助。

- **审查**: 工程师仍必须彻底审查模型生成的测试,以确保模型没有走捷径或实现存根测试。工程师还确保测试可由其代理运行;代理具有适当的运行权限,并且代理具有对其可以运行的不同测试套件的上下文意识。

- **拥有**: 工程师拥有将测试覆盖率与功能规格和用户体验期望对齐的所有权。对抗性思维、映射边缘情况的创造力以及对测试意图的关注仍然是关键技能。

### 入门检查清单

- ✓ 引导模型将测试作为单独步骤实现,并在转向功能实现之前验证新测试失败
- ✓ 在 AGENTS.md 文件中设置测试覆盖率指南
- ✓ 为代理提供可调用以了解测试覆盖率的代码覆盖率工具的具体示例

---

## 审查阶段

平均而言,开发者每周花费 2-5 小时进行代码审查。团队经常面临在深入审查中投入大量时间或对看似很小的更改进行快速"足够好"审查之间的选择。当这种优先级排序出现偏差时,bug 会溜进生产环境,为用户造成问题并产生大量返工。

### 编码代理如何提供帮助

编码代理允许代码审查流程扩展,使每个 PR 都能获得一致的基线关注。与传统的静态分析工具(依赖模式匹配和基于规则的检查)不同,AI 审查者实际上可以执行部分代码,解释运行时行为,并跨文件和服务追踪逻辑。但是,要有效,模型必须经过专门训练以识别 P0 和 P1 级别的 bug,并调整以提供简洁、高信号的反馈;过于冗长的响应与嘈杂的 lint 警告一样容易被忽略。

### 工程师转而做什么

在 OpenAI,我们发现 AI 代码审查让工程师更有信心不会将重大 bug 发布到生产环境。通常,代码审查会在贡献者引入另一位工程师之前发现他们可以纠正的问题。代码审查不一定会使拉取请求流程更快,特别是如果它发现有意义的 bug——但它确实可以防止缺陷和中断。

### 委托 vs. 审查 vs. 拥有

即使有 AI 代码审查,工程师仍然负责确保代码准备好发布。实际上,这意味着阅读和理解变更的含义。工程师将初始代码审查委托给代理,但拥有最终审查和合并流程。

### 委托、审查、拥有

- **委托**: 工程师将初始编码审查委托给代理。在拉取请求被标记为准备好由队友审查之前,这可能会发生多次。

- **审查**: 工程师仍然审查拉取请求,但更多地强调架构对齐;是否正在实现可组合模式,是否使用了正确的约定,功能是否符合要求。

- **拥有**: 工程师最终拥有部署到生产环境的代码;他们必须确保它可靠运行并满足预期要求。

### 案例

Sansan 使用 Codex 审查竞态条件和数据库关系,这些问题人类经常忽视。Codex 还能够捕获不当的硬编码,甚至预测未来的可扩展性问题。

### 入门检查清单

- ✓ 整理由工程师进行的黄金标准 PR 示例,包括代码更改和留下的评论。将其保存为评估集,以衡量不同工具。
- ✓ 选择专门针对代码审查训练模型的产品。我们发现通用模型经常吹毛求疵并提供低信噪比。
- ✓ 定义您的团队将如何衡量审查是否高质量。我们建议跟踪 PR 评论反应作为标记好评和坏评的低摩擦方式。
- ✓ 从小处着手,但一旦对审查结果获得信心就迅速推广。

---

## 文档阶段

大多数工程团队都知道他们的文档落后了,但发现追赶成本高昂。关键知识通常由个人持有,而不是在可搜索的知识库中捕获,现有文档很快就会过时,因为更新它们会将工程师从产品工作中拉走。即使团队运行文档冲刺,结果通常也是一次性努力,一旦系统演进就会衰减。

### 编码代理如何提供帮助

编码代理非常能够根据阅读代码库来总结功能。它们不仅可以编写代码库各部分如何工作,还可以生成 mermaid 等语法的系统图。当开发者使用代理构建功能时,他们还可以简单地通过提示模型来更新文档。使用 AGENTS.md,可以自动在每个提示中包含根据需要更新文档的指令,以获得更高的一致性。

由于编码代理可以通过 SDK 以编程方式运行,它们还可以集成到发布工作流中。例如,我们可以要求编码代理审查发布中包含的提交并总结关键更改。结果是文档成为交付管道的内置部分:生成更快,更容易保持最新,不再依赖某人"找时间"。

### 工程师转而做什么

工程师从手工编写每个文档转变为塑造和监督系统。他们决定如何组织文档,添加决策背后重要的"为什么",为代理设置清晰的标准和模板,并审查关键或面向客户的部分。他们的工作变成确保文档结构化、准确,并连接到交付流程,而不是自己做所有的打字工作。

### 委托、审查、拥有

- **委托**: 完全将低风险、重复性工作交给 Codex,如文件和模块的首次总结、输入和输出的基本描述、依赖项列表以及拉取请求更改的简短摘要。

- **审查**: 工程师在发布之前审查和编辑 Codex 起草的重要文档,如核心服务概述、公共 API 和 SDK 文档、运行手册和架构页面。

- **拥有**: 工程师仍然负责整体文档策略和结构、代理遵循的标准和模板,以及涉及法律、监管或品牌风险的所有外部或安全关键文档。

### 入门检查清单

- ✓ 通过提示编码代理来尝试文档生成
- ✓ 将文档指南纳入 AGENTS.md
- ✓ 识别可以自动生成文档的工作流(例如发布周期)
- ✓ 审查生成内容的质量、正确性和重点

---

## 部署与维护阶段

理解应用程序日志对软件可靠性至关重要。在事故期间,软件工程师将参考日志工具、代码部署和基础设施更改来识别根本原因。这个过程通常出奇地手动,需要开发者在不同系统之间来回切换,在事故等高压情况下浪费关键分钟。

### 编码代理如何提供帮助

使用 AI 编码工具,您可以通过 MCP 服务器提供对日志工具的访问,以及代码库的上下文。这允许开发者拥有单一工作流,他们可以提示模型查看特定端点的错误,然后模型可以使用该上下文遍历代码库并找到相关的 bug 或性能问题。由于编码代理还可以使用命令行工具,它们可以查看 git 历史记录以识别可能导致日志跟踪中捕获的问题的特定更改。

### 工程师转而做什么

通过自动化日志分析和事故分类的繁琐方面,AI 使工程师能够专注于更高级别的故障排除和系统改进。工程师可以专注于验证 AI 生成的根本原因、设计弹性修复和开发预防措施,而不是手动关联日志、提交和基础设施更改。这种转变减少了花在被动救火上的时间,使团队能够将更多精力投入到主动可靠性工程和架构改进中。

### 委托、审查、拥有

- **委托**: 许多操作任务可以委托给代理——解析日志、揭示异常指标、识别可疑代码更改,甚至提出热修复。

- **审查**: 工程师审查和完善 AI 生成的诊断,确认准确性,并批准补救步骤。他们确保修复符合可靠性、安全性和合规性标准。

- **拥有**: 关键决策由工程师保留,特别是对于新颖事故、敏感的生产更改或模型置信度较低的情况。人类仍然负责判断和最终签署。

### 案例

Virgin Atlantic 使用 Codex 加强团队部署和维护系统的方式。Codex VS Code 扩展为工程师提供了一个单一的地方来调查日志、跨代码和数据追踪问题,并通过 Azure DevOps MCP 和 Databricks Managed MCP 审查更改。通过在 IDE 内统一这种操作上下文,Codex 加速了根本原因发现,减少了手动分类,并帮助团队专注于验证修复和改善系统可靠性。

### 入门检查清单

- ✓ **将 AI 工具连接到日志和部署系统**: 将 Codex CLI 或类似工具与 MCP 服务器和日志聚合器集成。
- ✓ **定义访问范围和权限**: 确保代理可以访问相关日志、代码仓库和部署历史,同时保持安全最佳实践。
- ✓ **配置提示模板**: 为常见操作查询创建可重用的提示,例如"调查端点 X 的错误"或"分析部署后的日志峰值"。
- ✓ **测试工作流**: 运行模拟事故场景,以确保 AI 提供正确的上下文,准确追踪代码,并提出可操作的诊断。
- ✓ **迭代和改进**: 从实际事故中收集反馈,调整提示策略,并随着系统和流程的演进扩展代理能力。

---

## 结论

编码代理正在改变软件开发生命周期,承担传统上使工程团队放慢速度的机械性、多步骤工作。通过持续推理、统一的代码库上下文以及执行真实工具的能力,这些代理现在可以处理从范围界定和原型制作到实现、测试、审查甚至操作分类的任务。工程师牢牢掌控架构、产品意图和质量——但编码代理越来越多地充当 SDLC 每个阶段的首次实现者和持续协作者。

这种转变不需要彻底改革;小型、有针对性的工作流随着编码代理变得更有能力和可靠而迅速复合。从范围明确的任务开始、投资于护栏并迭代扩展代理责任的团队在速度、一致性和开发者专注度方面取得了有意义的进展。

如果您正在探索编码代理如何加速您的组织,或准备进行首次部署,请联系 OpenAI。我们在这里帮助您将编码代理转化为真正的杠杆——设计跨规划、设计、构建、测试、审查和运营的端到端工作流,并帮助您的团队采用生产就绪的模式,使 AI 原生工程成为现实。

---

_原文：[`building-an-ai-native-engineering-team.pdf`](https://cdn.openai.com/business-guides-and-resources/building-an-ai-native-engineering-team.pdf)_
